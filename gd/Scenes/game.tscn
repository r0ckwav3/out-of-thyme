[gd_scene load_steps=12 format=3 uid="uid://v7o8nvto7jyn"]

[ext_resource type="PackedScene" uid="uid://bp3ktpd4rye8f" path="res://Scenes/subscene_manager.tscn" id="1_bnhar"]
[ext_resource type="PackedScene" uid="uid://63nui4oaaiyw" path="res://Scenes/pot_scene.tscn" id="2_luqqc"]
[ext_resource type="Texture2D" uid="uid://cbj8rb4mc4b2" path="res://Assets/BGs/blurry_granite.png" id="2_t0nk1"]
[ext_resource type="Texture2D" uid="uid://ceo4hxa3b0mmq" path="res://Assets/BGs/Book.png" id="3_w0e8x"]
[ext_resource type="Theme" uid="uid://b8sgd0wgvuwwf" path="res://Other/Themes/Handwritten.tres" id="4_3ne88"]
[ext_resource type="PackedScene" uid="uid://dju6rnicahicb" path="res://Scenes/jar_controller.tscn" id="4_77yxr"]
[ext_resource type="Script" path="res://Scripts/RecipeManager.gd" id="5_c6pvm"]
[ext_resource type="Texture2D" uid="uid://bioi8ba4jv1tj" path="res://Assets/BGs/drawer.png" id="5_lbj4n"]
[ext_resource type="Script" path="res://Scripts/MouseManager.gd" id="6_2huoc"]
[ext_resource type="Texture2D" uid="uid://c8xribwwb7tnw" path="res://Assets/Objects/Jars/Jar_Unimplemented.png" id="7_takwi"]

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_myo40"]

[node name="Game" type="Node2D"]

[node name="SubsceneManager2" parent="." instance=ExtResource("1_bnhar")]

[node name="RecipeScene" type="Node2D" parent="SubsceneManager2"]

[node name="BlurryGranite" type="Sprite2D" parent="SubsceneManager2/RecipeScene"]
position = Vector2(960, 480)
scale = Vector2(0.667, 0.667)
texture = ExtResource("2_t0nk1")

[node name="Book" type="Sprite2D" parent="SubsceneManager2/RecipeScene"]
position = Vector2(960, 540)
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_w0e8x")

[node name="RecipeTitleLabel" type="Label" parent="SubsceneManager2/RecipeScene"]
offset_left = 332.0
offset_top = 185.0
offset_right = 953.0
offset_bottom = 246.0
theme = ExtResource("4_3ne88")
theme_type_variation = &"HeaderLarge"
text = "TEST TITLE TEST TITLE"
horizontal_alignment = 1

[node name="RecipeContentLabel" type="Label" parent="SubsceneManager2/RecipeScene"]
offset_left = 333.0
offset_top = 319.0
offset_right = 954.0
offset_bottom = 700.0
theme = ExtResource("4_3ne88")
text = "TEST RECIPE
TEST RECIPE
TEST RECIPE
TEST RECIPE
TEST RECIPE
TEST RECIPE"
horizontal_alignment = 1

[node name="PotScene" parent="SubsceneManager2" instance=ExtResource("2_luqqc")]
visible = false

[node name="DrawerScene" type="Node2D" parent="SubsceneManager2"]
visible = false

[node name="Drawer" type="Sprite2D" parent="SubsceneManager2/DrawerScene"]
position = Vector2(960, 540)
scale = Vector2(0.66, 0.66)
texture = ExtResource("5_lbj4n")

[node name="JarController" parent="SubsceneManager2/DrawerScene" instance=ExtResource("4_77yxr")]
position = Vector2(414, 700)

[node name="MouseManager" type="Node2D" parent="."]
script = ExtResource("6_2huoc")

[node name="JarSprite" type="Sprite2D" parent="MouseManager"]
position = Vector2(64, 35)
scale = Vector2(0.1, 0.1)
texture = ExtResource("7_takwi")

[node name="RecipeManager" type="Node2D" parent="."]
script = ExtResource("5_c6pvm")

[node name="Timer" type="Timer" parent="RecipeManager"]
wait_time = 60.0
one_shot = true
autostart = true

[node name="TimerBar" type="Polygon2D" parent="RecipeManager"]
texture = SubResource("PlaceholderTexture2D_myo40")
polygon = PackedVector2Array(0, 0, 1000, 2.08165e-12, 1000, 100, 2.08165e-12, 100)

[connection signal="pot_selected" from="SubsceneManager2/PotScene" to="MouseManager" method="_on_pot_selected"]
[connection signal="item_selected" from="SubsceneManager2/DrawerScene/JarController" to="MouseManager" method="_on_spice_selected"]
[connection signal="spice_added" from="MouseManager" to="RecipeManager" method="_on_spice_added"]
[connection signal="spices_intialized" from="RecipeManager" to="SubsceneManager2/DrawerScene/JarController" method="_on_spice_init"]
[connection signal="spices_intialized" from="RecipeManager" to="MouseManager" method="_on_spice_init"]
[connection signal="timeout" from="RecipeManager/Timer" to="RecipeManager" method="_on_timer_finished"]
